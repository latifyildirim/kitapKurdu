{"version":3,"sources":["components/bytes2Size.js","components/GetDownloadLink.js","components/Table.js","images/book.png","images/library.jpg","components/Search.js","components/AddNewBook.js","App.js","index.js"],"names":["bytes2Size","byteVal","counter","div","toFixed","GetDownloadLink","require","Table","books","data","useMemo","console","log","columns","Header","id","accessor","d","file","Cell","row","href","original","name","useTable","useSortBy","usePagination","getTableProps","getTableBodyProps","headerGroups","nextPage","previousPage","prepareRow","page","canPreviousPage","canNextPage","className","style","borderRadius","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","background","color","paddingLeft","render","isSorted","isSortedDesc","getRowProps","cells","cell","getCellProps","textDecorationLine","onClick","disabled","Search","useState","search","setSearch","setBooks","isLoading","setisLoading","isLoaded","setIsLoaded","Form","onSubmit","e","preventDefault","target","reset","fetch","then","res","json","Promise","all","encodeURI","path","size","date","Date","toLocaleDateString","FormGroup","Input","type","maxWidth","marginRight","inline","placeholder","onChange","value","Button","block","Spinner","children","textAlign","marginTop","width","src","bookPic","alt","axios","defaults","common","Authorization","AddNewBook","a","params","public_key","limit","get","_embedded","items","created","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"wNAAe,SAASA,EAAWC,GAKjC,IAJA,IACIC,EAAU,EAEVC,EAAMF,EAAU,EACbE,GAFE,MAGPD,IACAC,GAJO,KAMT,OAAOA,EAAIC,QAAQ,GAAK,IARZ,CAAC,QAAS,KAAM,KAAM,KAAM,MAQJF,G,WCNzBG,GAFCC,EAAQ,IAES,WAoB7B,OAAO,0B,uBCpBIC,EAAQ,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAChBC,EAAOC,mBAAQ,8BAAUF,KAAQ,CAACA,IACxCG,QAAQC,IAAIH,GACZ,IAAMI,EAAUH,mBACd,iBAAM,CACJ,CACEI,OAAQ,OACRC,GAAI,OACJC,SAAU,SAACC,GAAD,OAAOA,EAAEC,MACnBC,KAAM,gBAAGC,EAAH,EAAGA,IAAH,OAAa,mBAAGC,KAAMD,EAAIE,SAASJ,KAAtB,SAA6BE,EAAIE,SAASC,SAE/D,CACET,OAAQ,OACRE,SAAU,QAEZ,CACEF,OAAQ,OACRE,SAAU,WAGd,IApBgC,EAiC9BQ,mBAAS,CAAEX,UAASJ,QAAQgB,YAAWC,iBATzCC,EAxBgC,EAwBhCA,cACAC,EAzBgC,EAyBhCA,kBACAC,EA1BgC,EA0BhCA,aACAC,EA3BgC,EA2BhCA,SACAC,EA5BgC,EA4BhCA,aACAC,EA7BgC,EA6BhCA,WACAC,EA9BgC,EA8BhCA,KACAC,EA/BgC,EA+BhCA,gBACAC,EAhCgC,EAgChCA,YAEF,OACE,sBAAKC,UAAU,oCAAf,UACE,kDAAWT,KAAX,IAA4BU,MAAO,CAAEC,aAAc,QAAnD,UACE,gCACGT,EAAaU,KAAI,SAACC,GAAD,OAChB,8CAAQA,EAAYC,uBAApB,aACGD,EAAYE,QAAQH,KAAI,SAACI,GAAD,OACvB,+CACMA,EAAOC,eAAeD,EAAOE,yBADnC,IAEET,UAAU,SACVC,MAAO,CACLS,WAAY,UACZC,MAAO,QACPC,YAAa,QANjB,UASGL,EAAOM,OAAO,UACf,+BACGN,EAAOO,SAAYP,EAAOQ,aAAe,eAAO,eAAQ,oBAOrE,iDAAWvB,KAAX,aACGK,EAAKM,KAAI,SAACnB,GAET,OADAY,EAAWZ,GAET,8CAAQA,EAAIgC,eAAZ,aACGhC,EAAIiC,MAAMd,KAAI,SAACe,GACd,OACE,8CACMA,EAAKC,gBADX,IAEEnB,UAAU,eACVC,MAAO,CACLmB,mBAAoB,OACpBR,YAAa,OALjB,SAQGM,EAAKL,OAAO,2BAS7B,sBAAKb,UAAU,qCAAf,UACE,wBACEA,UAAU,8BACVqB,QAAS,kBAAM1B,KACf2B,UAAWxB,EAHb,6BAOA,wBACEE,UAAU,8BACVqB,QAAS,kBAAM3B,KACf4B,UAAWvB,EAHb,oC,QC9FO,GCAA,IDAA,IAA0B,kCEW5BwB,GAFCrD,EAAQ,IAEA,WAAO,IAAD,EACEsD,mBAAS,IADX,mBACnBC,EADmB,KACXC,EADW,OAEAF,mBAAS,IAFT,mBAEnBpD,EAFmB,KAEZuD,EAFY,OAGQH,oBAAS,GAHjB,mBAGnBI,EAHmB,KAGRC,EAHQ,OAIML,oBAAS,GAJf,mBAInBM,EAJmB,KAITC,EAJS,KAyC1B,OACE,qCACE,eAACC,EAAA,EAAD,CAAMhC,UAAU,wBAAwBiC,SAlCvB,SAACC,GACpBA,EAAEC,iBACFD,EAAEE,OAAOC,QACTR,GAAa,GACbS,MAAM,UAAD,OAAWb,IACbc,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAAC1D,GACL6D,QAAQC,IACN9D,EAAEsB,KAAI,SAAC+B,GACL,OAAOI,MAAM,iFAAD,OACuEM,UAC/E,2CAFQ,iBAGAA,UAAUV,EAAEW,QAErBN,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACL,MAAO,CACLrD,KAAM+C,EAAE/C,KACR2D,KAAMlF,EAAWsE,EAAEY,MACnBC,KAAM,IAAIC,KAAKd,EAAEa,MAAME,qBACvBnE,KAAM0D,EAAIvD,aAIlBsD,MAAK,SAAClE,GACNsD,EAAStD,GACT0D,GAAY,GACZF,GAAa,UAOjB,UACE,oBAAI7B,UAAU,OAAd,8BACA,eAACkD,EAAA,EAAD,CAAWlD,UAAU,wDAArB,UACE,cAACmD,EAAA,EAAD,CACEC,KAAK,OACLnD,MAAO,CAAEoD,SAAU,QAASC,YAAa,QACzCnE,KAAK,OACLoE,OAAO,OACP5E,GAAG,SACH6E,YAAY,wBACZC,SA/CgB,SAACvB,GACzBR,EAAUQ,EAAEE,OAAOsB,UAiDZ9B,EACC,8BACE,eAAC+B,EAAA,EAAD,CAAQP,KAAK,SAASzC,MAAM,OAAOX,UAAU,GAAG4D,OAAK,EAArD,UACE,cAACC,EAAA,EAAD,CAASC,SAAS,GAAGhB,KAAK,KAAKnC,MAAM,UADvC,eAKF,cAACgD,EAAA,EAAD,CAAQP,KAAK,SAASzC,MAAM,OAAOX,UAAU,GAAG4D,OAAK,EAArD,0BAML9B,EACC,cAAC,EAAD,CAAO1D,MAAOA,IAEd,qBAAK6B,MAAO,CAAE8D,UAAW,SAAUC,UAAW,QAA9C,SACE,qBAAKC,MAAM,MAAMC,IAAKC,EAASC,IAAI,c,iCCnFvCC,EAAQnG,EAAQ,IACtBmG,EAAMC,SAAShE,QAAQiE,OAAS,CAC9BC,cAAc,2CAGT,IAAMC,EAAa,WA2BxB,OA1BA,sBAAC,8BAAAC,EAAA,4DACgB,wDACI,0CACbC,EAAS,CACbC,WAAYhC,UAFK,2CAGjBC,KAAM,mEACNgC,MAAO,IANV,kBAUqBR,EAAMS,IATX,wDASuB,CAAEH,WAVzC,OAUSnC,EAVT,OAYoBA,EAAInE,KAAK0G,UAAUC,MAAM7E,KAAI,SAAC+B,GAC7C,MAAO,CACL/C,KAAM+C,EAAE/C,KACR0D,KAAMX,EAAEW,KACRC,KAAMZ,EAAEY,KACRC,KAAMb,EAAE+C,YAjBf,kDAsBG1G,QAAQC,IAAR,MAtBH,yDAAD,GA0BO,yBClBM0G,MAVf,WACE,OACE,sBAAKlF,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,Q,MCLNmF,IAAStE,OACP,cAAC,IAAMuE,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ab9b99fa.chunk.js","sourcesContent":["export default function bytes2Size(byteVal) {\r\n  var units = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n  var counter = 0;\r\n  var kb = 1024;\r\n  var div = byteVal / 1;\r\n  while (div >= kb) {\r\n    counter++;\r\n    div = div / kb;\r\n  }\r\n  return div.toFixed(1) + ' ' + units[counter];\r\n}\r\n","import React from 'react';\r\nconst axios = require('axios');\r\n\r\nexport const GetDownloadLink = () => {\r\n  //   (async () => {\r\n  //     const apiurl =\r\n  //       'https://cloud-api.yandex.net:443/v1/disk/public/resources/download';\r\n  //     const yandexlink = 'https://disk.yandex.ru/d/o9lNK0tpVCH7sQ';\r\n  //     const params = {\r\n  //       public_key: encodeURI(yandexlink),\r\n  //       path: ``,\r\n  //       limit: 1,\r\n  //     };\r\n\r\n  //     try {\r\n  //       const res = await axios.get(apiurl, { params });\r\n\r\n  //       console.log(res.data.href);\r\n  //     } catch (e) {\r\n  //       console.log(e);\r\n  //     }\r\n  //   })();\r\n\r\n  return <div></div>;\r\n};\r\n","import React, { useMemo } from 'react';\r\nimport { useTable, useSortBy, usePagination } from 'react-table';\r\n\r\nexport const Table = ({ books }) => {\r\n  const data = useMemo(() => [...books], [books]);\r\n  console.log(data);\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Name',\r\n        id: 'name',\r\n        accessor: (d) => d.file,\r\n        Cell: ({ row }) => <a href={row.original.file}>{row.original.name}</a>,\r\n      },\r\n      {\r\n        Header: 'Size',\r\n        accessor: 'size', // accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: 'Date',\r\n        accessor: 'date',\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    nextPage,\r\n    previousPage,\r\n    prepareRow,\r\n    page,\r\n    canPreviousPage,\r\n    canNextPage,\r\n  } = useTable({ columns, data }, useSortBy, usePagination);\r\n  return (\r\n    <div className=\"d-flex flex-column mb-5 mt-5 mx-5\">\r\n      <table {...getTableProps()} style={{ borderRadius: '15px' }}>\r\n        <thead>\r\n          {headerGroups.map((headerGroup) => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map((column) => (\r\n                <th\r\n                  {...column.getHeaderProps(column.getSortByToggleProps())}\r\n                  className=\"border\"\r\n                  style={{\r\n                    background: '#f3f4f6',\r\n                    color: 'black',\r\n                    paddingLeft: '12px',\r\n                  }}\r\n                >\r\n                  {column.render('Header')}\r\n                  <span>\r\n                    {column.isSorted ? (column.isSortedDesc ? 'ðŸ”½' : 'ðŸ”¼') : ''}\r\n                  </span>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row) => {\r\n            prepareRow(row);\r\n            return (\r\n              <tr {...row.getRowProps()}>\r\n                {row.cells.map((cell) => {\r\n                  return (\r\n                    <td\r\n                      {...cell.getCellProps()}\r\n                      className=\"border py-2 \"\r\n                      style={{\r\n                        textDecorationLine: 'none',\r\n                        paddingLeft: '7px',\r\n                      }}\r\n                    >\r\n                      {cell.render('Cell')}\r\n                    </td>\r\n                  );\r\n                })}\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"mt-2 d-flex justify-content-center\">\r\n        <button\r\n          className=\"btn btn-outline-dark btn-sm\"\r\n          onClick={() => previousPage()}\r\n          disabled={!canPreviousPage}\r\n        >\r\n          â¬… Previous\r\n        </button>\r\n        <button\r\n          className=\"btn btn-outline-dark btn-sm\"\r\n          onClick={() => nextPage()}\r\n          disabled={!canNextPage}\r\n        >\r\n          NextPage âž¡\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/book.a3a3b9e4.png\";","export default __webpack_public_path__ + \"static/media/library.aa934b82.jpg\";","import React, { useEffect, useState } from 'react';\r\nimport { Button, Form, FormGroup, Input } from 'reactstrap';\r\nimport bytes2Size from './bytes2Size';\r\nimport { GetDownloadLink } from './GetDownloadLink';\r\nimport { Table } from './Table';\r\nimport { Spinner } from 'reactstrap';\r\nimport library from '../images/library.jpg';\r\nimport bookPic from '../images/book.png';\r\n\r\nconst axios = require('axios');\r\n\r\nexport const Search = () => {\r\n  const [search, setSearch] = useState('');\r\n  const [books, setBooks] = useState('');\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  const handleChangeInput = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    e.target.reset();\r\n    setisLoading(true);\r\n    fetch(`/books/${search}`)\r\n      .then((res) => res.json())\r\n      .then((d) => {\r\n        Promise.all(\r\n          d.map((e) => {\r\n            return fetch(\r\n              `https://cloud-api.yandex.net:443/v1/disk/public/resources/download?public_key=${encodeURI(\r\n                'https://disk.yandex.ru/d/o9lNK0tpVCH7sQ'\r\n              )}&path=${encodeURI(e.path)}`\r\n            )\r\n              .then((res) => res.json())\r\n              .then((res) => {\r\n                return {\r\n                  name: e.name,\r\n                  size: bytes2Size(e.size),\r\n                  date: new Date(e.date).toLocaleDateString(),\r\n                  file: res.href,\r\n                };\r\n              });\r\n          })\r\n        ).then((data) => {\r\n          setBooks(data);\r\n          setIsLoaded(true);\r\n          setisLoading(false);\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form className=\"mx-5 text-center mt-5\" onSubmit={handleSubmit}>\r\n        <h4 className=\"my-4\">Search for Books</h4>\r\n        <FormGroup className=\"d-flex justify-content-center align-items-center mx-5\">\r\n          <Input\r\n            type=\"text\"\r\n            style={{ maxWidth: '250px', marginRight: '10px' }}\r\n            name=\"text\"\r\n            inline=\"true\"\r\n            id=\"search\"\r\n            placeholder=\"Example:George Orwell\"\r\n            onChange={handleChangeInput}\r\n          />\r\n\r\n          {isLoading ? (\r\n            <div>\r\n              <Button type=\"submit\" color=\"dark\" className=\"\" block>\r\n                <Spinner children=\"\" size=\"sm\" color=\"light\" /> Submit\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <Button type=\"submit\" color=\"dark\" className=\"\" block>\r\n              Submit\r\n            </Button>\r\n          )}\r\n        </FormGroup>\r\n      </Form>\r\n      {isLoaded ? (\r\n        <Table books={books} />\r\n      ) : (\r\n        <div style={{ textAlign: 'center', marginTop: '80px' }}>\r\n          <img width=\"60%\" src={bookPic} alt=\"fd\" />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nconst axios = require('axios');\r\naxios.defaults.headers.common = {\r\n  Authorization: `Bearer SyJfYwY87voisE14VenEe60ZHFfwXZlJ`,\r\n};\r\n\r\nexport const AddNewBook = () => {\r\n  (async () => {\r\n    const apiurl = 'https://cloud-api.yandex.net/v1/disk/public/resources';\r\n    const yandexlink = 'https://disk.yandex.ru/d/o9lNK0tpVCH7sQ';\r\n    const params = {\r\n      public_key: encodeURI(yandexlink),\r\n      path: '/Meritokrasi/TÃ¼rkÃ§e [ePub]/DerecelendirilmiÅŸ Kitaplar',\r\n      limit: 10,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.get(apiurl, { params });\r\n\r\n      const kitaplar = res.data._embedded.items.map((e) => {\r\n        return {\r\n          name: e.name,\r\n          path: e.path,\r\n          size: e.size,\r\n          date: e.created,\r\n        };\r\n      });\r\n      // console.log(kitaplar);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  })();\r\n\r\n  return <div></div>;\r\n};\r\n","import { Search } from './components/Search';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { AddNewBook } from './components/AddNewBook';\nimport { GetDownloadLink } from './components/GetDownloadLink';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Search />\n      <AddNewBook />\n      <GetDownloadLink />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './App.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}