(this["webpackJsonpeksi-kitap"]=this["webpackJsonpeksi-kitap"]||[]).push([[0],{60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(27),s=n.n(r),i=n(12),o=n(62),l=n(63),d=n(64),u=n(65);function b(e){for(var t=0,n=e/1;n>=1024;)t++,n/=1024;return n.toFixed(1)+" "+["Bytes","KB","MB","GB","TB"][t]}var j=n(1),p=(n(17),function(){return Object(j.jsx)("div",{})}),x=n(5),m=n(29),h=n(15),O=function(e){var t=e.books,n=Object(c.useMemo)((function(){return Object(m.a)(t)}),[t]);console.log(n);var a=Object(c.useMemo)((function(){return[{Header:"Name",id:"name",accessor:function(e){return e.file},Cell:function(e){var t=e.row;return Object(j.jsx)("a",{href:t.original.file,children:t.original.name})}},{Header:"Size",accessor:"size"},{Header:"Date",accessor:"date"}]}),[]),r=Object(h.useTable)({columns:a,data:n},h.useSortBy,h.usePagination),s=r.getTableProps,i=r.getTableBodyProps,o=r.headerGroups,l=r.nextPage,d=r.previousPage,u=r.prepareRow,b=r.page,p=r.canPreviousPage,O=r.canNextPage;return Object(j.jsxs)("div",{className:"d-flex flex-column mb-5 mt-5 mx-5",children:[Object(j.jsxs)("table",Object(x.a)(Object(x.a)({},s()),{},{style:{borderRadius:"15px"},children:[Object(j.jsx)("thead",{children:o.map((function(e){return Object(j.jsx)("tr",Object(x.a)(Object(x.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsxs)("th",Object(x.a)(Object(x.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:"border",style:{background:"#f3f4f6",color:"black",paddingLeft:"12px"},children:[e.render("Header"),Object(j.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\ud83d\udd3d":"\ud83d\udd3c":""})]}))}))}))}))}),Object(j.jsx)("tbody",Object(x.a)(Object(x.a)({},i()),{},{children:b.map((function(e){return u(e),Object(j.jsx)("tr",Object(x.a)(Object(x.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(x.a)(Object(x.a)({},e.getCellProps()),{},{className:"border py-2 ",style:{textDecorationLine:"none",paddingLeft:"7px"},children:e.render("Cell")}))}))}))}))}))]})),Object(j.jsxs)("div",{className:"mt-2 d-flex justify-content-center",children:[Object(j.jsx)("button",{className:"btn btn-outline-dark btn-sm",onClick:function(){return d()},disabled:!p,children:"\u2b05 Previous"}),Object(j.jsx)("button",{className:"btn btn-outline-dark btn-sm",onClick:function(){return l()},disabled:!O,children:"NextPage \u27a1"})]})]})},f=n(66),g=(n.p,n.p+"static/media/book.a3a3b9e4.png"),k=(n(17),function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),p=s[0],x=s[1],m=Object(c.useState)(!1),h=Object(i.a)(m,2),k=h[0],v=h[1],y=Object(c.useState)(!1),N=Object(i.a)(y,2),P=N[0],S=N[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(o.a,{className:"mx-5 text-center mt-5",onSubmit:function(e){e.preventDefault(),e.target.reset(),v(!0),fetch("/books/".concat(n)).then((function(e){return e.json()})).then((function(e){Promise.all(e.map((function(e){return fetch("https://cloud-api.yandex.net:443/v1/disk/public/resources/download?public_key=".concat(encodeURI("https://disk.yandex.ru/d/o9lNK0tpVCH7sQ"),"&path=").concat(encodeURI(e.path))).then((function(e){return e.json()})).then((function(t){return{name:e.name,size:b(e.size),date:new Date(e.date).toLocaleDateString(),file:t.href}}))}))).then((function(e){x(e),S(!0),v(!1)}))}))},children:[Object(j.jsx)("h4",{className:"my-4",children:"Search for Books"}),Object(j.jsxs)(l.a,{className:"d-flex justify-content-center align-items-center mx-5",children:[Object(j.jsx)(d.a,{type:"text",style:{maxWidth:"250px",marginRight:"10px"},name:"text",inline:"true",id:"search",placeholder:"Example:George Orwell",onChange:function(e){a(e.target.value)}}),k?Object(j.jsx)("div",{children:Object(j.jsxs)(u.a,{type:"submit",color:"dark",className:"",block:!0,children:[Object(j.jsx)(f.a,{children:"",size:"sm",color:"light"})," Submit"]})}):Object(j.jsx)(u.a,{type:"submit",color:"dark",className:"",block:!0,children:"Submit"})]})]}),P?Object(j.jsx)(O,{books:p}):Object(j.jsx)("div",{style:{textAlign:"center",marginTop:"80px"},children:Object(j.jsx)("img",{width:"60%",src:g,alt:"fd"})})]})}),v=(n(59),n(14)),y=n.n(v),N=n(28),P=n(17);P.defaults.headers.common={Authorization:"Bearer SyJfYwY87voisE14VenEe60ZHFfwXZlJ"};var S=function(){return Object(N.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cloud-api.yandex.net/v1/disk/public/resources","https://disk.yandex.ru/d/o9lNK0tpVCH7sQ",t={public_key:encodeURI("https://disk.yandex.ru/d/o9lNK0tpVCH7sQ"),path:"/Meritokrasi/T\xfcrk\xe7e [ePub]/Derecelendirilmi\u015f Kitaplar",limit:10},e.prev=3,e.next=6,P.get("https://cloud-api.yandex.net/v1/disk/public/resources",{params:t});case 6:n=e.sent,n.data._embedded.items.map((function(e){return{name:e.name,path:e.path,size:e.size,date:e.created}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))(),Object(j.jsx)("div",{})};var w=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(k,{}),Object(j.jsx)(S,{}),Object(j.jsx)(p,{})]})};n(60);s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.ab9b99fa.chunk.js.map